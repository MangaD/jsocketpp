<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>jsocketpp: Understanding &lt;tt&gt;bind()&lt;/tt&gt;: Binding to All Interfaces vs Specific Interfaces</title>
<link rel="icon" href="logo55px.png" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo55px.png"/></td>
  <td id="projectalign">
   <div id="projectname">jsocketpp<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A cross-platform C++20 socket library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('group__bind__interfaces.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Understanding <span class="tt">bind()</span>: Binding to All Interfaces vs Specific Interfaces <div class="ingroups"><a class="el" href="group__docs.html">User Guides</a></div></div></div>
</div><!--header-->
<div class="contents">
<p>Socket programming often involves choosing <b>which local addresses and interfaces</b> your server will listen on. This article explains what it means to “bind to all interfaces,” how it works under the hood, and how to select specific interfaces if needed.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md192"></a>
What Does “Binding to All Interfaces” Mean?</h1>
<p>When you create a listening socket (e.g., for a server) you must “bind” it to a local address and port. This address determines:</p>
<ul>
<li>Which incoming connections or datagrams will be delivered to your socket.</li>
<li>Which network interfaces (e.g., Ethernet, Wi-Fi, loopback) will be monitored.</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md193"></a>
Wildcard Addresses</h2>
<ul>
<li><b>IPv4:</b> <span class="tt">0.0.0.0</span></li>
<li><b>IPv6:</b> <span class="tt">::</span></li>
</ul>
<p>These addresses, often called <b>wildcard addresses</b>, are a special signal to the OS: </p><blockquote class="doxtable">
<p>“Accept connections or datagrams on <em>any</em> address of this machine, on the specified port, for this protocol family.” </p>
</blockquote>
<p>When you bind your socket to a wildcard address, the OS will deliver to you any incoming traffic on that port, no matter which network interface it arrives on.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md194"></a>
Example: Binding to All Interfaces</h2>
<div class="fragment"><div class="line"><span class="comment">// Using getaddrinfo with node=nullptr and AI_PASSIVE hint</span></div>
<div class="line">addrinfo hints{};</div>
<div class="line">hints.ai_family = AF_UNSPEC;     <span class="comment">// IPv4 or IPv6</span></div>
<div class="line">hints.ai_socktype = SOCK_STREAM; <span class="comment">// TCP</span></div>
<div class="line">hints.ai_flags = AI_PASSIVE;     <span class="comment">// For wildcard binding</span></div>
<div class="line"> </div>
<div class="line">addrinfo* res;</div>
<div class="line">getaddrinfo(<span class="keyword">nullptr</span>, <span class="stringliteral">&quot;8080&quot;</span>, &amp;hints, &amp;res);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Pick the first result and bind</span></div>
<div class="line"><span class="keywordtype">int</span> sockfd = socket(res-&gt;ai_family, res-&gt;ai_socktype, res-&gt;ai_protocol);</div>
<div class="line">bind(sockfd, res-&gt;ai_addr, res-&gt;ai_addrlen);</div>
<div class="line">````</div>
<div class="line"> </div>
<div class="line">This binds to **all local addresses** (both IPv4 and IPv6 <span class="keywordflow">if</span> dual-stack is enabled), on port 8080, with one socket per</div>
<div class="line">address family.</div>
<div class="line"> </div>
<div class="line">---</div>
<div class="line"> </div>
<div class="line">## How Does <a class="code hl_namespace" href="namespacejsocketpp.html">jsocketpp</a> Handle This?</div>
<div class="line"> </div>
<div class="line"><a class="code hl_namespace" href="namespacejsocketpp.html">jsocketpp</a>, like most modern libraries, does <span class="keyword">this</span>:</div>
<div class="line"> </div>
<div class="line">1. Calls `getaddrinfo(nullptr, ...)` with the `AI_PASSIVE` flag.</div>
<div class="line">2. Iterates the resulting list of wildcard addresses (e.g., `0.0.0.0`, `::`).</div>
<div class="line">3. Prefers to bind to the IPv6 wildcard address if possible, which can accept both IPv6 and IPv4 (if dual-stack is</div>
<div class="line">   enabled).</div>
<div class="line">4. Binds a socket to that wildcard address—so *one socket* receives all incoming connections for that protocol family,</div>
<div class="line">   on all interfaces.</div>
<div class="line"> </div>
<div class="line">**You do NOT need to create a socket per interface.**</div>
<div class="line"> </div>
<div class="line">---</div>
<div class="line"> </div>
<div class="line">## Binding to a Specific Address or Interface</div>
<div class="line"> </div>
<div class="line">Sometimes you want your server to only accept connections on a specific interface or address, such as:</div>
<div class="line"> </div>
<div class="line">* Only on the loopback interface (localhost, `127.0.0.1`)</div>
<div class="line">* Only on an external IP address</div>
<div class="line">* Only on a specific network interface (advanced; see below)</div>
<div class="line"> </div>
<div class="line">**How?**</div>
<div class="line">Instead of passing `<span class="keyword">nullptr</span>` to `getaddrinfo`, you specify the address you want to bind to:</div>
<div class="ttc" id="anamespacejsocketpp_html"><div class="ttname"><a href="namespacejsocketpp.html">jsocketpp</a></div><div class="ttdoc">A C++ socket library providing Java-style networking interfaces.</div><div class="ttdef"><b>Definition</b> BufferView.hpp:16</div></div>
</div><!-- fragment --><p> cpp // Only listen on localhost getaddrinfo("127.0.0.1", "8080", &amp;hints, &amp;res); // ... bind as usual</p>
<p>// Only listen on a specific IP getaddrinfo("192.168.1.123", "8080", &amp;hints, &amp;res); </p><div class="fragment"><div class="line">The kernel will only deliver incoming connections or datagrams **addressed to that specific IP/interface** to your</div>
<div class="line">socket.</div>
<div class="line"> </div>
<div class="line">---</div>
<div class="line"> </div>
<div class="line">## What About Binding to All Interfaces on All Protocols?</div>
<div class="line"> </div>
<div class="line">* **Dual-Stack (IPv6 and IPv4):**</div>
<div class="line">  On modern systems, you can bind a single IPv6 socket to `&quot;::&quot;` and disable `IPV6_V6ONLY`.</div>
<div class="line">  This one socket then receives both IPv4 and IPv6 traffic.</div>
<div class="line"> </div>
<div class="line">* **Older Systems:**</div>
<div class="line">  You may need two sockets—one for `&quot;::&quot;` (IPv6) and one for `&quot;0.0.0.0&quot;` (IPv4).</div>
<div class="line"> </div>
<div class="line">---</div>
<div class="line"> </div>
<div class="line">## Table: Summary of Common Bind Addresses</div>
<div class="line"> </div>
<div class="line">| Address         | Binds to...                                           | Use Case                       |</div>
<div class="line">|-----------------|-------------------------------------------------------|--------------------------------|</div>
<div class="line">| `0.0.0.0`       | All IPv4 interfaces                                   | Most servers (IPv4 only)       |</div>
<div class="line">| `::`            | All IPv6 interfaces, often also all IPv4 (dual-stack) | Most servers (IPv6+IPv4)       |</div>
<div class="line">| `127.0.0.1`     | Loopback only (localhost, IPv4)                       | Local testing, admin-only APIs |</div>
<div class="line">| `::1`           | Loopback only (localhost, IPv6)                       | Local testing, admin-only APIs |</div>
<div class="line">| `&lt;specific IP&gt;` | Only that IP/interface                                | Multi-homed servers, advanced  |</div>
<div class="line"> </div>
<div class="line">---</div>
<div class="line"> </div>
<div class="line">## Advanced: Binding to a Named Interface</div>
<div class="line"> </div>
<div class="line">On some OSes, you can bind to a specific interface by using its address, or, with advanced socket options (</div>
<div class="line">`SO_BINDTODEVICE` on Linux), by name. This is rarely needed for most server applications.</div>
</div><!-- fragment --><p> cpp // Linux only: restrict socket to eth0 setsockopt(sockfd, SOL_SOCKET, SO_BINDTODEVICE, "eth0", strlen("eth0")); ```</p>
<p><em>Note: Not portable!</em></p>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md196"></a>
Best Practices</h1>
<ul>
<li>For most servers, <b>binding to the wildcard address</b> (<span class="tt">0.0.0.0</span> or <span class="tt">::</span>) is best. This allows clients to connect regardless of which network they use to reach your server.</li>
<li>Bind to a specific address <b>only</b> when you have a reason (security, access control, multiple processes, etc.).</li>
<li>Let jsocketpp’s default behavior handle this for you unless you have advanced requirements.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md198"></a>
jsocketpp API Notes</h1>
<ul>
<li>By default, jsocketpp binds to all local addresses for the protocol family (one socket).</li>
<li>You can customize the address passed to the constructor to bind only to a specific interface/address if desired.</li>
<li>The library prefers dual-stack (IPv6) when possible for maximum reach.</li>
</ul>
<hr  />
<h1 class="doxsection"><a class="anchor" id="autotoc_md200"></a>
Conclusion</h1>
<blockquote class="doxtable">
<p><b>Binding to all interfaces</b> is simple, robust, and sufficient for most server applications. Advanced use-cases (multi-homing, interface binding) are supported but rarely needed. </p>
</blockquote>
<p>If you need to bind to a specific address/interface in jsocketpp, simply pass the address string to the constructor or to your bind logic. Otherwise, let the default do the right thing. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
